
import React from 'react';
import { useParams, Link } from 'react-router-dom';
import Navbar from '@/components/Navbar';
import Footer from '@/components/Footer';
import { Button } from "@/components/ui/button";
import { Clock, ArrowLeft, Share2 } from "lucide-react";
import { Separator } from "@/components/ui/separator";

interface NewsArticle {
  id: string;
  title: string;
  category: string;
  image: string;
  description: string;
  content: string;
  views: number;
  timestamp: string;
  author?: string;
  likes?: number;
  comments?: number;
  relatedNewsIds?: string[];
}

const newsArticles: Record<string, NewsArticle> = {
  "university-rating-2025": {
    id: "university-rating-2025",
    title: "2025 жылғы үздік университеттер рейтингі жарияланды",
    category: "Университеттер",
    image: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3",
    description: "Қазақстандағы жоғары оқу орындарының жаңа рейтингі жарияланды. Топ үштікте қандай университеттер орын алды?",
    content: `<p>Қазақстан жоғары оқу орындарының 2025 жылғы ұлттық рейтингі жарияланды. Бұл рейтинг еліміздегі университеттердің сапасын, ғылыми жетістіктерін және білім беру деңгейін бағалайды.</p>

    <p>Биылғы рейтингте алғашқы орындарды мыналар иеленді:</p>
    
    <ol>
      <li><b>Әл-Фараби атындағы ҚазҰУ</b> - Еліміздің ең ежелгі және ірі университеті көп жылдар бойы көшбасшылығын сақтап келеді. Университет ғылыми-зерттеу жұмыстары, халықаралық байланыстар және білім беру сапасы бойынша жоғары көрсеткіштер көрсетті.</li>
      <li><b>Абай университеті</b> - Педагогика саласындағы жетекші ЖОО биыл екінші орынға көтерілді. Соңғы жылдары университет білім беру жүйесін жаңғырту және инновациялық әдістерді енгізу бойынша үлкен жұмыстар атқаруда.</li>
      <li><b>КИМЭП Университеті</b> - Халықаралық стандарттарға сай білім беретін бұл университет түлектерінің жұмысқа орналасу көрсеткіші бойынша алдыңғы қатарда.</li>
    </ol>
    
    <p>Рейтинг бірнеше критерийлер бойынша құрастырылған:</p>
    
    <ul>
      <li>Академиялық беделі</li>
      <li>Жұмыс берушілер арасындағы беделі</li>
      <li>Ғылыми жарияланымдар саны мен сапасы</li>
      <li>Студенттер мен профессорлар арақатынасы</li>
      <li>Халықаралық байланыстар</li>
      <li>Түлектердің жұмыспен қамтылуы</li>
    </ul>
    
    <p>Биылғы рейтингтің ерекшелігі - IT және технологиялық бағыттағы университеттердің позицияларының күшеюі. Сонымен қатар, аймақтық университеттер де өз позицияларын жақсартып, бәсекеге қабілетті екенін көрсетуде.</p>
    
    <p>Бұл рейтинг талапкерлерге университет таңдауда көмекші құрал бола алады. Дегенмен, мамандар университет таңдау кезінде тек рейтингке ғана сүйенбеу керектігін айтады, өйткені әр студенттің өзіндік мақсаты мен қажеттіліктері болады.</p>`,
    views: 1700,
    timestamp: "2 сағат бұрын",
    author: "Ерлан Ахметов",
    likes: 45,
    comments: 12,
    relatedNewsIds: ["grants-2025", "new-university"]
  },
  "ubt-preparation": {
    id: "ubt-preparation",
    title: "ҰБТға дайындық: маңызды кеңестер",
    category: "ҰБТ",
    image: "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",
    description: "Сарапшылардың ҰБТ-ға дайындық бойынша ұсыныстары",
    content: `<p>ҰБТ-ға дайындалу - әр талапкер үшін маңызды кезең. Бұл емтихан болашақ студенттердің білім деңгейін анықтап қана қоймай, мемлекеттік грант алу мүмкіндігіне де әсер етеді.</p>

    <p>Білім беру сарапшылары ҰБТ-ға дайындық кезінде мына кеңестерді ұсынады:</p>
    
    <ol>
      <li><b>Дайындықты ертерек бастаңыз</b> - Емтиханға бір-екі ай қалғанда дайындала бастау жеткіліксіз. Идеалды жағдайда дайындықты 11-сыныптан бастаған жөн.</li>
      <li><b>Жоспар құрыңыз</b> - Барлық пәндер бойынша материалдарды қамтитын дайындық жоспарын жасаңыз. Әр пәнге қанша уақыт бөлетініңізді анықтаңыз.</li>
      <li><b>Тест тапсырмаларын орындаңыз</b> - Өткен жылдардағы ҰБТ сұрақтарын шешіңіз. Бұл сізге емтихан форматына үйренуге және әлсіз тұстарыңызды анықтауға көмектеседі.</li>
      <li><b>Онлайн ресурстарды пайдаланыңыз</b> - Бүгінгі күні интернетте көптеген дайындық материалдары, видеолар және онлайн тесттер бар.</li>
      <li><b>Демалуды ұмытпаңыз</b> - Тиімді дайындық тек қана оқуды емес, сапалы демалысты да қамтиды. Күніне кемінде 7-8 сағат ұйықтаңыз және дене шынықтыру жаттығуларын жасаңыз.</li>
    </ol>
    
    <p>Сонымен қатар, ҰБТ-ға дайындық кезінде психологиялық дайындық та маңызды. Стресті басқаруды үйреніңіз және өзіңізге сенімді болыңыз.</p>
    
    <p>Биылғы ҰБТ форматында бірқатар өзгерістер болғанын ескеріңіз. Емтихан сұрақтары жаттап алуға емес, логикалық ойлауға бағытталған.</p>
    
    <p>Дайындық барысында өзіңізге көбірек сенім артып, мақсатқа жетуге ұмтылыңыз!</p>`,
    views: 856,
    timestamp: "5 сағат бұрын",
    author: "Айгүл Қасымова",
    likes: 32,
    comments: 18,
    relatedNewsIds: ["grants-2025", "top-majors"]
  },
  "grants-2025": {
    id: "grants-2025",
    title: "2025 жылғы мемлекеттік грант иегерлері анықталды",
    category: "Гранттар",
    image: "https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1674&q=80",
    description: "Биылғы грант иегерлерінің толық тізімі",
    content: `<p>Қазақстан Республикасы Білім және ғылым министрлігі 2025 оқу жылына мемлекеттік білім гранттарының иегерлерін жариялады. Биыл 54,000-нан астам талапкер грант иеленді.</p>

    <p>Биылғы грант бөлу процесінде бірқатар өзгерістер болды:</p>
    
    <ul>
      <li>IT және техникалық мамандықтарға бөлінген гранттар саны 15%-ға артты</li>
      <li>Педагогикалық мамандықтарға бөлінген гранттар 10%-ға көбейді</li>
      <li>Медицина саласындағы мамандықтарға жаңа гранттар бөлінді</li>
      <li>Аймақтық квоталар енгізілді</li>
    </ul>
    
    <p>Ең жоғары ҰБТ балын жинаған талапкерлер грант иегерлері атанды. Шектік балл педагогикалық мамандықтар үшін - 70 балл, техникалық мамандықтар үшін - 65 балл, ал медициналық мамандықтар үшін - 75 балл құрады.</p>
    
    <p>Грант иегерлерінің тізімі министрліктің ресми сайтында жарияланған. Сонымен қатар, талапкерлер өз нәтижелерін egov.kz порталында немесе арнайы колл-орталыққа хабарласу арқылы біле алады.</p>
    
    <p>Грант иегерлері университетке құжаттарын тапсыру үшін 25 тамызға дейін уақыт бар. Бұл мерзім өткеннен кейін пайдаланылмаған гранттар қайта бөлінеді.</p>
    
    <p>Биыл ең танымал мамандықтар IT, медицина және педагогика салалары болды. Бұл мамандықтарға тапсырған талапкерлер саны өткен жылмен салыстырғанда 20%-ға артқан.</p>`,
    views: 1500,
    timestamp: "1 күн бұрын",
    author: "Дәулет Мұхамедов",
    likes: 56,
    comments: 24,
    relatedNewsIds: ["ubt-preparation", "top-majors"]
  },
  "student-conferences": {
    id: "student-conferences",
    title: "Жаңа оқу жылында өткізілетін әлеуметтер",
    category: "Білім",
    image: "https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",
    description: "2025 жылғы оқу жылында күтілетін жиналыстар мен әлеуметтер",
    content: `<p>2025 жылғы оқу жылы қазақстандық студенттер үшін көптеген жиындар мен конференцияларға толы болады. Бұл іс-шаралар білім алушыларға өз білімдерін кеңейтуге және кәсіби байланыстар орнатуға мүмкіндік береді.</p>

    <p>Жоспарланған негізгі іс-шаралар:</p>
    
    <ol>
      <li><b>Жастар және ғылым-2025</b> - Астана қаласында өтетін республикалық ғылыми конференция. Студенттер мен жас ғалымдар өз зерттеулерін ұсынып, тәжірибе алмасады.</li>
      <li><b>IT-Fest 2025</b> - Алматы қаласында өтетін технологиялық фестиваль. Бағдарламалау бойынша хакатондар, мастер-класстар және IT компаниялары өкілдерімен кездесулер.</li>
      <li><b>Болашақ көшбасшылар форумы</b> - Шымкент қаласында өтетін студенттік көшбасшылық форумы. Коммуникация, жобалық менеджмент және жеке өсу бойынша тренингтер.</li>
      <li><b>Жаһандық білім беру көрмесі</b> - Қазақстан мен шетелдік университеттердің білім беру бағдарламалары туралы ақпарат беретін көрме.</li>
    </ol>
    
    <p>Бұл іс-шараларға қатысу үшін студенттер өз университеттерінің студенттік істер департаменттерінен немесе ғылыми бөлімдерінен ақпарат ала алады.</p>
    
    <p>Көптеген іс-шаралар гранттық қолдауға ие, бұл студенттерге тегін қатысуға мүмкіндік береді. Кейбір халықаралық конференцияларға қатысу үшін өтінімдерді ертерек беру қажет.</p>
    
    <p>Студенттік конференциялар мен форумдарға қатысу - бұл тек білім алу ғана емес, сонымен қатар болашақ мансапқа қажетті байланыстар орнату мүмкіндігі екенін ұмытпаңыз.</p>`,
    views: 423,
    timestamp: "3 күн бұрын",
    author: "Мақсат Бердібеков",
    likes: 24,
    comments: 8,
    relatedNewsIds: ["new-university", "top-majors"]
  },
  "new-university": {
    id: "new-university",
    title: "Жаңа университет ашылады",
    category: "Университеттер",
    image: "https://images.unsplash.com/photo-1498322590555-139c697a8abe?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1738&q=80",
    description: "Алматыда жаңартылған дизайнмен жергілікті жаңа университет ашылады",
    content: `<p>Алматы қаласында жаңа халықаралық деңгейдегі университеттің ашылатыны жарияланды. «Алматы халықаралық технологиялар университеті» (АХТУ) атауымен ашылатын бұл оқу орны IT, инженерия және бизнес салаларында мамандар даярлайтын болады.</p>

    <p>Жаңа университеттің ерекшеліктері:</p>
    
    <ul>
      <li>Халықаралық профессорлық құрам - АҚШ, Еуропа және Азияның жетекші университеттерінен шақырылған оқытушылар</li>
      <li>Заманауи инфрақұрылым - соңғы технологиялармен жабдықталған зертханалар мен оқу кабинеттері</li>
      <li>Екі дипломды білім беру - түлектер қазақстандық диплом мен серіктес шетелдік университеттің дипломын алады</li>
      <li>Кәсіпорындармен тығыз байланыс - студенттерге тәжірибеден өту және жұмысқа орналасу мүмкіндіктері</li>
    </ul>
    
    <p>Университет құрылысы Алатау ауданында жүргізілуде және 2025 жылдың қыркүйегінде алғашқы студенттерді қабылдауды жоспарлап отыр. Алғашқы кезеңде 3000 студентке арналған инфрақұрылым салынады, кейін университет кампусы 10,000 студентке дейін кеңейтіледі.</p>
    
    <p>АХТУ-дың негізгі мақсаты - IT және инженерия салаларында жоғары білікті мамандарды даярлау арқылы Қазақстанның цифрлық экономикасының дамуына үлес қосу. Университет бағдарламаларының 70%-ы ағылшын тілінде жүргізілетін болады.</p>
    
    <p>Университет құрылысына жеке инвесторлар мен мемлекет тарапынан 50 миллиард теңгеден астам қаражат бөлінген. Бұл Қазақстандағы жоғары білім беру саласындағы ең ірі инвестициялық жобалардың бірі болып табылады.</p>`,
    views: 755,
    timestamp: "4 күн бұрын",
    author: "Арман Сүлейменов",
    likes: 35,
    comments: 12,
    relatedNewsIds: ["university-rating-2025", "top-majors"]
  },
  "top-majors": {
    id: "top-majors",
    title: "Ең сұранысқа ие мамандықтар - 2025",
    category: "Мамандықтар",
    image: "https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
    description: "Болашақта сұранысқа ие болатын мамандықтар тізімі",
    content: `<p>2025 жылы және одан кейінгі жылдары қандай мамандықтар сұранысқа ие болады? Білім беру және еңбек нарығы сарапшылары болашақта ең перспективалы деп есептелетін мамандықтардың рейтингін жасады.</p>

    <p>Топ-10 сұранысқа ие мамандықтар:</p>
    
    <ol>
      <li><b>Бағдарламалық қамтамасыз ету инженериясы</b> - IT саласы әлі де жоғары өсу қарқынын көрсетуде. Бағдарламашылар, әсіресе жасанды интеллект және машиналық оқыту саласындағы мамандар жоғары сұранысқа ие.</li>
      <li><b>Киберқауіпсіздік</b> - Цифрландыру процестеріне байланысты киберқауіпсіздік мамандарына деген сұраныс жыл сайын артуда.</li>
      <li><b>Деректер ғылымы</b> - Үлкен деректермен жұмыс істейтін мамандар барлық салаларда қажет.</li>
      <li><b>Робототехника және автоматтандыру</b> - Өндірісті автоматтандыру процестері робототехника саласындағы мамандарға деген сұранысты арттыруда.</li>
      <li><b>Биотехнология</b> - Медицина және ауыл шаруашылығында биотехнологияны қолдану кеңейіп келеді.</li>
      <li><b>Жаңартылатын энергия</b> - "Жасыл" энергия көздерін дамыту осы саладағы мамандарға деген сұранысты арттырады.</li>
      <li><b>Цифрлық маркетинг</b> - Компаниялар өз аудиториясымен онлайн байланыс орнату үшін цифрлық маркетинг мамандарын іздейді.</li>
      <li><b>Телемедицина</b> - Қашықтан медициналық қызмет көрсету саласы қарқынды дамып келеді.</li>
      <li><b>Аддитивті технологиялар (3D басып шығару)</b> - Бұл технология өндірісте және басқа салаларда кеңінен қолданылады.</li>
      <li><b>Жобалық менеджмент</b> - Күрделі жобаларды басқара алатын мамандар барлық салаларда бағаланады.</li>
    </ol>
    
    <p>Бұл мамандықтарды таңдаған студенттер болашақта жұмыспен қамту проблемасына тап болмайды деп күтілуде. Сонымен қатар, бұл салалардағы мамандар орташа нарықтық жалақыдан жоғары табыс табуға мүмкіндік алады.</p>
    
    <p>Сарапшылар болашақ мамандардың тек бір саладағы білімімен шектелмей, пәнаралық білім мен дағдыларды да игеруі маңызды екенін атап өтеді. Сыни ойлау, коммуникация дағдылары және шет тілдерін білу кез-келген саладағы маманның бәсекеге қабілеттілігін арттырады.</p>`,
    views: 612,
    timestamp: "5 күн бұрын",
    author: "Гүлнар Тәшенова",
    likes: 48,
    comments: 16,
    relatedNewsIds: ["ubt-preparation", "grants-2025"]
  }
};

const NewsDetailPage: React.FC = () => {
  const { id } = useParams<{ id: string }>();
  const article = newsArticles[id as keyof typeof newsArticles];

  if (!article) {
    return (
      <>
        <Navbar />
        <div className="container py-12 min-h-screen">
          <h1 className="text-2xl font-bold">Жаңалық табылмады</h1>
          <Link to="/news" className="text-tandablue">
            Жаңалықтар тізіміне оралу
          </Link>
        </div>
        <Footer />
      </>
    );
  }

  const relatedNews = article.relatedNewsIds 
    ? article.relatedNewsIds.map(id => newsArticles[id]).filter(Boolean)
    : [];

  return (
    <>
      <Navbar />
      <main className="bg-gray-50 min-h-screen py-8">
        <div className="container px-4 md:px-6">
          <Link to="/news" className="flex items-center text-tandablue mb-4 hover:underline">
            <ArrowLeft className="h-4 w-4 mr-1" /> Барлық жаңалықтар
          </Link>

          <div className="bg-white rounded-lg shadow-sm overflow-hidden">
            <img 
              src={article.image} 
              alt={article.title}
              className="w-full h-64 md:h-96 object-cover"
            />
            
            <div className="p-6 md:p-8">
              <div className="flex flex-wrap gap-2 mb-4">
                <span className="text-sm bg-blue-100 text-blue-800 px-3 py-1 rounded-full">
                  {article.category}
                </span>
                <span className="text-sm bg-gray-100 text-gray-800 px-3 py-1 rounded-full flex items-center">
                  <Clock className="h-3 w-3 mr-1" /> {article.timestamp}
                </span>
              </div>

              <h1 className="text-2xl md:text-3xl lg:text-4xl font-bold mb-4">
                {article.title}
              </h1>

              {article.author && (
                <p className="text-gray-600 mb-6">Автор: {article.author}</p>
              )}

              <div 
                className="prose max-w-none mt-6"
                dangerouslySetInnerHTML={{ __html: article.content }}
              />

              <div className="flex justify-between items-center mt-8 pt-6 border-t">
                <div className="flex items-center text-sm text-gray-500">
                  <span>{article.views} көрініс</span>
                  {article.likes && (
                    <span className="ml-4">{article.likes} ұнайды</span>
                  )}
                  {article.comments && (
                    <span className="ml-4">{article.comments} пікір</span>
                  )}
                </div>
                
                <Button variant="outline" size="sm" className="flex items-center">
                  <Share2 className="h-4 w-4 mr-2" /> Бөлісу
                </Button>
              </div>
            </div>
          </div>

          {relatedNews.length > 0 && (
            <div className="mt-10">
              <h2 className="text-xl font-bold mb-4">Қатысты жаңалықтар</h2>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                {relatedNews.map(news => (
                  <Link key={news.id} to={`/news/${news.id}`} className="bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow">
                    <img 
                      src={news.image}
                      alt={news.title}
                      className="w-full h-48 object-cover"
                    />
                    <div className="p-4">
                      <span className="text-xs text-blue-600 font-medium">{news.category}</span>
                      <h3 className="font-semibold mt-1 mb-2 line-clamp-2">{news.title}</h3>
                      <p className="text-sm text-gray-600 line-clamp-2">{news.description}</p>
                    </div>
                  </Link>
                ))}
              </div>
            </div>
          )}
        </div>
      </main>
      <Footer />
    </>
  );
};

export default NewsDetailPage;
